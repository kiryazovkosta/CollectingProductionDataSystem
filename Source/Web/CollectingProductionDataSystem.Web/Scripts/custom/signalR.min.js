(function(n){function i(i){var f,r;if(typeof i!="undefined"){if(f='<div class="popover"><div class="arrow"><\/div><div class="popover-icon col-xs-2"><img src="/Content/Images/PNG/64x64/Info.png" alt="Info" width="55px" height="55px"><\/div><pre class="popover-content col-xs-10"><\/pre><\/div>',i.MessageType===2&&(f='<div class="popover"><div class="arrow"><\/div><div class="popover-icon col-xs-2"><img src="/Content/Images/PNG/64x64/Warning.png" alt="Warning" width="55px" height="55px"><\/div><pre class="popover-content col-xs-10"><\/pre><\/div>'),i.MessageType===3&&(f='<div class="popover"><div class="arrow"><\/div><div class="popover-icon col-xs-2"><img src="/Content/Images/PNG/64x64/ErrorCircle.png" alt="Critical" width="55px" height="55px"><\/div><pre class="popover-content col-xs-10"><\/pre><\/div>'),r=n("#messages").data("bs.popover"),typeof r!="undefined"){u(r,i.MessageType);r.options.content=i.MessageText;r.setContent();r.show();return}n("#messages").popover({content:i.MessageText,html:"true",placement:"bottom",trigger:"manual",template:f});n("#messages").popover("show");n(".popover").off("click").on("click",function(t){t.stopPropagation();n(t.currentTarget).popover("destroy")});t();typeof kendoAdditional!="undefined"&&kendoAdditional.RefreshGrid("#messages-list")}}function t(){n.ajax({url:"/Ajax/GetMessagesCount",type:"GET",cache:!1,datatype:"json",success:function(t){if(typeof t!="undefined"){var i=n("#message-counter"),t=parseInt(t);t>0?t<=99?i.html(t):i.html("99+"):i.html("")}}})}function r(){n.ajax({url:"/Ajax/GetLastMessage",type:"GET",cache:!1,datatype:"json",success:function(n){i(n)}})}function u(t,i){var r="",u,f;switch(i){case 2:r="/Content/Images/PNG/64x64/Warning.png";break;case 3:r="/Content/Images/PNG/64x64/ErrorCircle.png";break;default:r="/Content/Images/PNG/64x64/Info.png"}u="#"+t.$tip.attr("id");f=n(u).find("img");f.attr("src",r)}n(function(){var u=n.connection.messagesHub;u.client.displayNewMessage=function(n){i(n)};u.client.getMessagesCount=function(){t()};n.connection.hub.start({transport:["webSockets","serverSentEvents","longPolling"]});t();sessionStorage.getItem("firstTime")===null&&(r(),sessionStorage.setItem("firstTime","false"));u.client.jobStatus=function(t,i){var r=n(t).data("kendoProgressBar");r.value(i)}})})(jQuery);
//# sourceMappingURL=signalR.min.js.map
